пример реализации работы с каналами через tcp соединение

Мы создаём объект TCPC, который содержит два канала, один для отправки сообщения,
другой для получения. Для каждого из этих каналов, создаётся отдельное tcp-соединение на разных портах.
И в зависимоти от вида канала(отправляющего/принимающего), по одному tcp-соединению будут только отправляться данные,
а по другому только приниматься